<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>LWG Store — Quality Products in Sierra Leone</title>

<link rel="icon" href="/favicon.ico">
<meta name="description" content="LWG Partners Network Store — quality products with delivery across Sierra Leone.">
<meta name="robots" content="index, follow">
<meta property="og:title" content="LWG Store">
<meta property="og:description" content="Shop the latest products. Delivery across Sierra Leone.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://www.lwgpartnersnetwork.com/">
<meta property="og:image" content="https://www.lwgpartnersnetwork.com/og-image.jpg">

<link rel="icon" type="image/png" sizes="32x32" href="frontend/images/favicon-32.png">
<link rel="icon" type="image/png" sizes="64x64" href="frontend/images/favicon-64.png">
<link rel="apple-touch-icon" href="frontend/images/logo-512.png">
<meta property="og:image" content="frontend/images/og-image-1200x630.png">
<meta property="og:title" content="LWG Store">
<meta property="og:description" content="Shop with LWG Partners Network — Creating Impact Globally">

  
  <!-- SEO -->
  <meta name="description"
        content="Shop the LWG store. Reliable delivery across Sierra Leone, secure checkout, and great prices."/>
  <link rel="canonical" href="https://www.lwgpartnersnetwork.com/"/>
  <meta property="og:type" content="website"/>
  <meta property="og:title" content="LWG Store — Quality Products in Sierra Leone"/>
  <meta property="og:description"
        content="Explore featured products and enjoy fast, reliable delivery across Sierra Leone."/>
  <meta property="og:url" content="https://www.lwgpartnersnetwork.com/"/>
  <meta property="og:site_name" content="LWG Partners Network"/>
  <!-- Inline SVG favicon (no file needed) -->
  <link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect width="100" height="100" fill="%230b1220"/><text x="50" y="62" font-size="62" text-anchor="middle" fill="%23c5d3f6" font-family="Segoe UI, Roboto, Arial">L</text></svg>'>

  <!-- Styles -->
  <link rel="stylesheet" href="css/styles.css"/>
  <style>
    :root{
      --bg:#0b1220;--line:#1f2937;--muted:#9ca3af;--text:#e5e7eb;
      --pill-bg:#0f172a;--pill-border:#374151;--price:#ef4444;
      --brand:#c5d3f6;
    }
    *{box-sizing:border-box}
    body{background:var(--bg);color:var(--text);margin:0;font:16px/1.5 system-ui,Segoe UI,Roboto,Arial}
    a{color:inherit}
    .nav{display:flex;justify-content:space-between;align-items:center;padding:14px 20px;border-bottom:1px solid var(--line)}
    .brand a{display:flex;gap:10px;align-items:center;text-decoration:none}
    .brand .logo{width:28px;height:28px;border-radius:8px;background:#0f172a;border:1px solid #1f2937;display:grid;place-items:center;color:var(--brand);font-weight:700}
    .row{display:flex;gap:12px;align-items:center;flex-wrap:nowrap}
    .btn{border:1px solid #374151;background:#0f172a;color:#e5e7eb;padding:8px 12px;border-radius:10px;text-decoration:none;cursor:pointer}
    .muted{color:var(--muted)}
    .container{max-width:1100px;margin:24px auto;padding:0 16px}
    h1{margin:8px 0 12px;font-size:32px}

    .grid{display:grid;gap:12px;grid-template-columns:repeat(2,1fr)}
    @media (min-width:720px){ .grid{grid-template-columns:repeat(3,1fr)} }
    @media (min-width:1100px){ .grid{grid-template-columns:repeat(4,1fr)} }

    .card{border:1px solid var(--line);border-radius:16px;overflow:hidden;background:#0b1220;cursor:pointer;transition:transform .08s ease}
    .card:active{transform:scale(.995)}
    .thumb{width:100%;height:188px;object-fit:cover;background:#111827;display:block}
    .body{padding:12px}
    .title{font-weight:600;line-height:1.25;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;min-height:2.6em}
    .pill{display:inline-block;margin-top:8px;font-size:13px;background:var(--pill-bg);border:1px solid var(--pill-border);color:#c5d3f6;padding:6px 10px;border-radius:10px}
    .price{color:var(--price);font-weight:800;font-size:18px;margin-top:10px}
    .footer{border-top:1px solid var(--line);padding:16px;text-align:center;color:var(--muted)}
    .empty{color:var(--muted);margin-top:14px}

    /* simple input */
    input.input{background:#0f172a;border:1px solid #374151;border-radius:10px;color:#e5e7eb;padding:10px 12px;outline:none}
    input.input::placeholder{color:#6b7280}

    /* skeletons */
    .skeleton{position:relative;overflow:hidden;background:#111827;border-radius:16px;border:1px solid #1f2937;height:260px}
    .skeleton::after{content:'';position:absolute;inset:0;transform:translateX(-100%);
      background:linear-gradient(90deg,transparent,rgba(255,255,255,.06),transparent);
      animation:shimmer 1.2s infinite}
    @keyframes shimmer{100%{transform:translateX(100%)}}
  </style>
</head>
<body>
  <!-- NAV -->
  <nav class="nav" aria-label="Main navigation">
    <div class="brand">
      <a href="index.html" aria-label="LWG Store">
        <span class="logo">L</span>
        <strong>LWG Store</strong>
      </a>
    </div>
    <div class="row">
      <a href="cart.html" class="btn">Cart (<span id="cartCount">0</span>)</a>
      <a href="order-tracking.html" class="muted">tracking</a>
    </div>
  </nav>

  <!-- MAIN -->
  <main class="container">
    <div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap;justify-content:space-between">
      <h1>Featured Products</h1>

      <form id="searchForm" class="row" style="margin-left:auto;gap:8px;flex-wrap:nowrap">
        <input id="q" class="input" placeholder="Search products…" aria-label="Search products" style="min-width:220px">
        <button class="btn" type="submit">Search</button>
      </form>
    </div>

    <div id="grid" class="grid" aria-live="polite"></div>
    <p id="empty" class="empty" style="display:none">No products yet. Add some in Admin, then refresh.</p>

    <div id="pager" class="row" style="justify-content:center;margin-top:16px;display:none">
      <button id="prev" class="btn" type="button">Prev</button>
      <span id="pageNote" class="muted"></span>
      <button id="next" class="btn" type="button">Next</button>
    </div>
  </main>

  <footer class="footer">
    © <span id="y"></span> LWG Partners Network — Creating Impact Globally
  </footer>

<script>
(function(){
  const PROD_API = 'https://lwg-api.onrender.com';
  const API_BASE = (location.hostname === 'localhost' || location.hostname === '127.0.0.1')
    ? 'http://localhost:5001'
    : PROD_API;

  const $ = (s) => document.querySelector(s);
  const money = (n) => 'NLe ' + (Number(n||0)).toLocaleString();
  const esc = (s='') => String(s).replace(/[&<>"]/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[m]));

  // cart count
  function cartCount(){
    try { return JSON.parse(localStorage.getItem('lwg_cart')||'[]').reduce((s,i)=>s+(i.qty||0),0); }
    catch{ return 0; }
  }
  function updateCount(){ $('#cartCount').textContent = cartCount(); }

  /** Fetch product list */
  async function fetchProducts({ q='', category='', min, max, page=1, pageSize=12 } = {}){
    const qs = new URLSearchParams();
    if (q) qs.set('q', q);
    if (category) qs.set('category', category);
    if (min) qs.set('min', min);
    if (max) qs.set('max', max);
    qs.set('page', page);
    qs.set('pageSize', pageSize);

    const url = `${API_BASE}/api/products?${qs.toString()}`;
    const res = await fetch(url, { headers:{'Accept':'application/json'}});
    if (!res.ok) throw new Error('HTTP '+res.status);

    const data = await res.json();
    if (!data.ok) throw new Error(data.error||'Invalid response');
    return { products: data.products||[], total: data.total||0 };
  }

  const grid = $('#grid');
  const empty = $('#empty');

  function productCard(p){
    const el = document.createElement('article');
    el.className = 'card';
    const img = esc(p.image || (p.images && p.images[0]) || '');
    const title = esc(p.title || 'Product');
    el.innerHTML = `
      <img class="thumb" src="${img}" alt="${title}"
        onerror="this.src='https://via.placeholder.com/600x400?text=No+Image'">
      <div class="body">
        <div class="title">${title}</div>
        <div class="pill">Sierra Leone delivery</div>
        <div class="row"><div class="price">${money(p.price)}</div></div>
      </div>`;
    el.addEventListener('click',()=>{
      const idOrSlug = p.slug || p._id || p.id;
      if(idOrSlug) location.href = 'product.html?id='+encodeURIComponent(idOrSlug);
    });
    return el;
  }

  async function render({ q='', page=1, pageSize=12 }={}){
    grid.innerHTML = '';
    empty.style.display='none';
    try{
      const {products,total} = await fetchProducts({q,page,pageSize});
      if(!products.length){
        empty.style.display='block';
      }else{
        products.forEach(p=>grid.appendChild(productCard(p)));
      }
    }catch(e){
      empty.textContent = 'Failed to load products. Please retry.';
      empty.style.display='block';
      console.error(e);
    }
  }

  // search
  $('#searchForm').addEventListener('submit', e=>{
    e.preventDefault();
    render({ q:$('#q').value.trim(), page:1, pageSize:12 });
  });

  // boot
  $('#y').textContent=new Date().getFullYear();
  updateCount();
  render();
})();
</script>
</body>
</html>




